{
    "data": {
        "attributes": {
            "deffile": "BootStrap: docker\nFrom: continuumio/miniconda3:4.3.27\n\n################################################################################\n%setup\n################################################################################\n\n################################################################################\n%post\n################################################################################\n\ncat <<END_OF_ENV > /opt/rnaseq_env.yml\nname: rnaseq\nchannels:\n  -  bioconda\n  -  conda-forge\n  -  defaults\ndependencies:\n  -  argh=0.26.1\n  -  bcftools=1.5\n  -  bioconductor-annotate\n  -  bioconductor-annotationdbi\n  -  bioconductor-biobase\n  -  bioconductor-biocgenerics\n  -  bioconductor-biocparallel\n  -  bioconductor-biomart\n  -  bioconductor-biostrings\n  -  bioconductor-deseq2\n  -  bioconductor-edger\n  -  bioconductor-genefilter\n  -  bioconductor-geneplotter\n  -  bioconductor-genomeinfodb\n  -  bioconductor-genomicalignments\n  -  bioconductor-genomicfeatures\n  -  bioconductor-genomicranges\n  -  bioconductor-iranges\n  -  bioconductor-limma\n  -  bioconductor-noiseq\n  -  bioconductor-rsamtools\n  -  bioconductor-rtracklayer\n  -  bioconductor-s4vectors\n  -  bioconductor-summarizedexperiment\n  -  bioconductor-tximport\n  -  bioconductor-xvector\n  -  bioconductor-zlibbioc\n  -  bx-python\n  -  python-lzo\n  -  expat\n  -  fastqc\n  -  gffutils\n  -  htslib\n  -  java-jdk\n  -  libxml2\n  -  perl-threaded\n  -  pyfaidx\n  -  pysam\n  -  qualimap\n  -  r-bh\n  -  r-car\n  -  r-catools\n  -  r-data.table\n  -  r-digest=0.6.12\n  -  r-dplyr=0.5.0\n  -  r-futile.logger=1.4.1\n  -  r-futile.options=1.0.0\n  -  r-getopt=1.20.0\n  -  r-ggplot2=2.2.1\n  -  r-gplots=2.17.0\n  -  r-htmltools=0.3\n  -  r-htmlwidgets=0.5\n  -  r-knitr=1.12.3\n  -  r-lambda.r=1.1.7\n  -  r-locfit=1.5_9.1\n  -  r-magrittr=1.5\n  -  r-psych=1.5.8\n  -  r-purrr=0.2.2\n  -  r-readr=0.2.2\n  -  r-reshape2=1.4.2\n  -  r-rjson=0.2.15\n  -  r-scales=0.4.1\n  -  r-snow=0.4_1\n  -  r-stringr=1.1.0\n  -  r-tibble=1.2\n  -  r-yaml=2.1.13\n  -  rseqc=2.6.4\n  -  samtools=1.5\n  -  simplejson=3.8.1\n  -  stringtie=1.3.3\n  -  trimmomatic=0.36\n  -  argcomplete=1.0.0\n  -  bzip2=1.0.6\n  -  cairo=1.14.8\n  -  cffi=1.9.1\n  -  cryptography=1.7.1\n  -  curl=7.52.1\n  -  cython=0.25.2\n  -  dbus=1.10.10\n  -  enum34=1.1.6\n  -  fontconfig=2.12.1\n  -  freetype=2.5.5\n  -  glib=2.50.2\n  -  gsl=2.2.1\n  -  gst-plugins-base=1.8.0\n  -  gstreamer=1.8.0\n  -  harfbuzz=0.9.39\n  -  icu=54.1\n  -  idna=2.2\n  -  ipaddress=1.0.18\n  -  jbig=2.1\n  -  jpeg=9b\n  -  libffi=3.2.1\n  -  libgcc=5.2.0\n  -  libiconv=1.14\n  -  libpng=1.6.27\n  -  libsodium=1.0.10\n  -  libtiff=4.0.6\n  -  libuuid=1.0.3\n  -  libxcb=1.12\n  -  mkl=2017.0.1\n  -  ncurses=5.9\n  -  numpy=1.12.1\n  -  openssl=1.0.2k\n  -  pango=1.40.3\n  -  pcre=8.39\n  -  pip=9.0.1\n  -  pixman=0.34.0\n  -  pyasn1=0.1.9\n  -  pycosat=0.6.1\n  -  pycparser=2.17\n  -  pyopenssl=16.2.0\n  -  python=2.7.13\n  -  qt=5.6.2\n  -  r=3.3.1\n  -  r-acepack=1.3_3.3\n  -  r-assertthat=0.1\n  -  r-base=3.3.1\n  -  r-base64enc=0.1_3\n  -  r-bitops=1.0_6\n  -  r-boot=1.3_18\n  -  r-broom=0.4.1\n  -  r-caret=6.0_70\n  -  r-class=7.3_14\n  -  r-cluster=2.0.5\n  -  r-codetools=0.2_15\n  -  r-colorspace=1.3_1\n  -  r-crayon=1.3.1\n  -  r-curl=2.3\n  -  r-dbi=0.5_1\n  -  r-dichromat=2.0_0\n  -  r-essentials=1.4.3\n  -  r-evaluate=0.10\n  -  r-forcats=0.1.1\n  -  r-foreach=1.4.3\n  -  r-foreign=0.8_67\n  -  r-formatr=1.4\n  -  r-formula=1.2_1\n  -  r-gdata=2.17.0\n  -  r-gistr=0.3.6\n  -  r-glmnet=2.0_5\n  -  r-gridextra=2.2.1\n  -  r-gtable=0.2.0\n  -  r-gtools=3.5.0\n  -  r-haven=1.0.0\n  -  r-hexbin=1.27.1\n  -  r-highr=0.6\n  -  r-hmisc=3.17_4\n  -  r-hms=0.3\n  -  r-httpuv=1.3.3\n  -  r-httr=1.2.1\n  -  r-irdisplay=0.4.3\n  -  r-irkernel=0.7\n  -  r-iterators=1.0.8\n  -  r-jsonlite=1.1\n  -  r-kernsmooth=2.23_15\n  -  r-labeling=0.3\n  -  r-lattice=0.20_34\n  -  r-latticeextra=0.6_28\n  -  r-lazyeval=0.2.0\n  -  r-lme4=1.1_12\n  -  r-lubridate=1.6.0\n  -  r-maps=3.1.0\n  -  r-markdown=0.7.7\n  -  r-mass=7.3_45\n  -  r-matrix=1.2_7.1\n  -  r-matrixmodels=0.4_1\n  -  r-memoise=1.0.0\n  -  r-mgcv=1.8_12\n  -  r-mime=0.5\n  -  r-minqa=1.2.4\n  -  r-mnormt=1.5_5\n  -  r-modelr=0.1.0\n  -  r-munsell=0.4.3\n  -  r-nlme=3.1_128\n  -  r-nloptr=1.0.4\n  -  r-nnet=7.3_12\n  -  r-openssl=0.9.5\n  -  r-pbdzmq=0.2_3\n  -  r-pbkrtest=0.4_6\n  -  r-plogr=0.1_1\n  -  r-plyr=1.8.4\n  -  r-pryr=0.1.2\n  -  r-quantmod=0.4_7\n  -  r-quantreg=5.26\n  -  r-r6=2.2.0\n  -  r-randomforest=4.6_12\n  -  r-rbokeh=0.4.2\n  -  r-rcolorbrewer=1.1_2\n  -  r-rcpp=0.12.8\n  -  r-rcpparmadillo=0.7.100.3.1\n  -  r-rcppeigen=0.3.2.8.1\n  -  r-rcurl=1.95_4.8\n  -  r-readxl=0.1.1\n  -  r-recommended=3.3.1\n  -  r-repr=0.7\n  -  r-rmarkdown=0.9.6\n  -  r-rpart=4.1_10\n  -  r-rsqlite=1.1_1\n  -  r-rvest=0.3.2\n  -  r-selectr=0.3_0\n  -  r-shiny=0.13.2\n  -  r-sparsem=1.7\n  -  r-spatial=7.3_11\n  -  r-stringi=1.1.2\n  -  r-survival=2.39_4\n  -  r-tidyr=0.6.0\n  -  r-tidyverse=1.0.0\n  -  r-ttr=0.23_1\n  -  r-uuid=0.1_2\n  -  r-xml=3.98_1.5\n  -  r-xml2=1.0.0\n  -  r-xtable=1.8_2\n  -  r-xts=0.9_7\n  -  r-zoo=1.7_13\n  -  readline=6.2\n  -  requests=2.12.4\n  -  ruamel_yaml=0.11.14\n  -  setuptools=27.2.0\n  -  six=1.10.0\n  -  sqlite=3.13.0\n  -  tk=8.5.18\n  -  wheel=0.29.0\n  -  xz=5.2.2\n  -  yaml=0.1.6\n  -  zeromq=4.1.5\n  -  zlib=1.2.8\nprefix: /opt/conda/envs/rnaseq\nEND_OF_ENV\n\n\ncat > /etc/locale.gen <<EOF\nen_US.UTF-8 UTF-8\nEOF\napt-get update\napt-get -y install locales zip\n\n###\n### conda environment with common packages\n###\nexport PATH=/opt/conda/bin:$PATH\ncd /opt\n[ -f rnaseq_env.yml ] || exit 1\n\n# create the rnaseq environment\nconda update --all --yes --quiet\nconda env create --quiet -n rnaseq -f rnaseq_env.yml\n\n# clean up so image can be shrunk\nconda clean --all --yes\n\n###\n### install hisat2, salmon, and subread - all from binary packages\n###\nwget ftp://ftp.ccb.jhu.edu/pub/infphilo/hisat2/downloads/hisat2-2.1.0-Linux_x86_64.zip\nunzip hisat2-2.1.0-Linux_x86_64.zip\nrm -f hisat2-2.1.0-Linux_x86_64.zip\n\nwget https://github.com/COMBINE-lab/salmon/releases/download/v0.9.1/Salmon-0.9.1_linux_x86_64.tar.gz\ntar -xzf Salmon-0.9.1_linux_x86_64.tar.gz\nrm -f Salmon-0.9.1_linux_x86_64.tar.gz\n\nwget -O subread-1.6.0-Linux-x86_64.tar.gz \\\n  https://sourceforge.net/projects/subread/files/subread-1.6.0/subread-1.6.0-Linux-x86_64.tar.gz/download\ntar -xzf subread-1.6.0-Linux-x86_64.tar.gz\nrm -f subread-1.6.0-Linux-x86_64.tar.gz\n\n# create generic mount points for the workflow\nmkdir /data /resources\n\n# set up the environment for the container\n################################################################################\n%environment\n################################################################################\nexport SINGULARITY_INIT=1\nPATH=\"/opt/conda/envs/rnaseq/bin:/opt/conda/bin:/bin:/usr/bin\"\nPATH=\"${PATH}:/opt/hisat2-2.1.0:/opt/Salmon-latest_linux_x86_64/bin\"\nPATH=\"${PATH}:/opt/subread-1.6.0-Linux-x86_64/bin\"\nexport PS1=\"Singularity.$SINGULARITY_CONTAINER> $PS1\"\nexport LANG=en_US.UTF-8\nexport CONTAINER_VER=0.3\nexport CONDA_DEFAULT_ENV=rnaseq\nexport CONDA_PREFIX=/opt/conda/envs/rnaseq\nexport ANACONDA_HOME=/opt/conda\n\n################################################################################\n%runscript\n################################################################################\n\n# In this case using the runscript only for self documentation.\n\ncat <<EOF\n\n------------------------------------------------------------\nrnaseq - rnaseq pipeline tools version $CONTAINER_VER\n------------------------------------------------------------\n\nThis container encapsulates tools for RNA-Seq analysis.\nIt is intended for creating reproducible pipelines.\n\n\n################################################################################\n%test\n################################################################################\n. /.singularity.d/env/90-environment.sh\nconda list\nfeatureCounts -v\nhisat2 --version\nsalmon --version\nsamtools --version\n",
            "help": null,
            "labels": {
                "org.label-schema.usage.singularity.deffile.bootstrap": "docker",
                "org.label-schema.usage.singularity.deffile": "Singularity",
                "org.label-schema.schema-version": "1.0",
                "org.label-schema.usage.singularity.deffile.from": "continuumio/miniconda3:4.3.27",
                "org.label-schema.build-date": "Wed,_07_Feb_2018_09:37:33_+0000",
                "org.label-schema.usage.singularity.version": "2.4.1-feature-squashbuild-secbuild-2.4.1.g220f8e0",
                "org.label-schema.build-size": "2930MB"
            },
            "environment": "# Custom environment shell code should follow\n\n################################################################################\nexport SINGULARITY_INIT=1\nPATH=\"/opt/conda/envs/rnaseq/bin:/opt/conda/bin:/bin:/usr/bin\"\nPATH=\"${PATH}:/opt/hisat2-2.1.0:/opt/Salmon-latest_linux_x86_64/bin\"\nPATH=\"${PATH}:/opt/subread-1.6.0-Linux-x86_64/bin\"\nexport PS1=\"Singularity.$SINGULARITY_CONTAINER> $PS1\"\nexport LANG=en_US.UTF-8\nexport CONTAINER_VER=0.3\nexport CONDA_DEFAULT_ENV=rnaseq\nexport CONDA_PREFIX=/opt/conda/envs/rnaseq\nexport ANACONDA_HOME=/opt/conda\n\n################################################################################\n",
            "runscript": "#!/bin/sh \n\n################################################################################\n\n# In this case using the runscript only for self documentation.\n\ncat <<EOF\n\n------------------------------------------------------------\nrnaseq - rnaseq pipeline tools version $CONTAINER_VER\n------------------------------------------------------------\n\nThis container encapsulates tools for RNA-Seq analysis.\nIt is intended for creating reproducible pipelines.\n\n\n################################################################################\n",
            "test": "#!/bin/sh\n\n################################################################################\n. /.singularity.d/env/90-environment.sh\nconda list\nfeatureCounts -v\nhisat2 --version\nsalmon --version\nsamtools --version\n"
        },
        "type": "container"
    }
}
