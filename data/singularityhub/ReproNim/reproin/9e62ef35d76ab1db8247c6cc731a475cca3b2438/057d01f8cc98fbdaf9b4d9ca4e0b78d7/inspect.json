{
    "data": {
        "attributes": {
            "deffile": "# Generated by Neurodocker version 0.4.0.dev2\n# Timestamp: 2018-05-22 19:25:06 UTC\n# \n# Thank you for using Neurodocker. If you discover any issues\n# or ways to improve this software, please submit an issue or\n# pull request on our GitHub repository:\n# \n#     https://github.com/kaczmarj/neurodocker\n\nBootstrap: docker\nFrom: neurodebian:stretch\n\n%post\nexport ND_ENTRYPOINT=\"/neurodocker/startup.sh\"\napt-get update -qq\napt-get install -y -q --no-install-recommends \\\n    apt-utils \\\n    bzip2 \\\n    ca-certificates \\\n    curl \\\n    locales \\\n    unzip\napt-get clean\nrm -rf /var/lib/apt/lists/* /tmp/* /var/tmp/*\nsed -i -e 's/# en_US.UTF-8 UTF-8/en_US.UTF-8 UTF-8/' /etc/locale.gen\ndpkg-reconfigure --frontend=noninteractive locales\nupdate-locale LANG=\"en_US.UTF-8\"\nchmod 777 /opt && chmod a+s /opt\nmkdir -p /neurodocker\nif [ ! -f \"$ND_ENTRYPOINT\" ]; then\n  echo '#!/usr/bin/env bash' >> \"$ND_ENTRYPOINT\"\n  echo 'set -e' >> \"$ND_ENTRYPOINT\"\n  echo 'if [ -n \"$1\" ]; then \"$@\"; else /usr/bin/env bash; fi' >> \"$ND_ENTRYPOINT\";\nfi\nchmod -R 777 /neurodocker && chmod a+s /neurodocker\n\napt-get update -qq\napt-get install -y -q --no-install-recommends \\\n    vim \\\n    wget \\\n    strace \\\n    time \\\n    ncdu \\\n    gnupg \\\n    curl \\\n    procps \\\n    datalad \\\n    git-annex-standalone \\\n    python-nipype \\\n    virtualenv \\\n    python-dcmstack \\\n    python-configparser \\\n    python-funcsigs \\\n    python-pytest \\\n    dcmtk \\\n    python-pip \\\n    python-wheel\napt-get clean\nrm -rf /var/lib/apt/lists/* /tmp/* /var/tmp/*\n\ncurl -sL https://deb.nodesource.com/setup_6.x | bash - \n\napt-get update -qq\napt-get install -y -q --no-install-recommends \\\n    nodejs \\\n    npm\napt-get clean\nrm -rf /var/lib/apt/lists/* /tmp/* /var/tmp/*\n\nnpm install -g bids-validator@0.26.11\n\nmkdir /afs /inbox\n\npip install git+https://github.com/nipy/heudiconv.git@d3b7077bd24afcae459531889263dde08ae50466\n\napt-get update -qq\napt-get install -y -q --no-install-recommends \\\n    cmake \\\n    g++ \\\n    gcc \\\n    git \\\n    make \\\n    pigz \\\n    zlib1g-dev\napt-get clean\nrm -rf /var/lib/apt/lists/* /tmp/* /var/tmp/*\ngit clone https://github.com/rordenlab/dcm2niix /tmp/dcm2niix\ncd /tmp/dcm2niix\ngit fetch --tags\ngit checkout v1.0.20180328\nmkdir /tmp/dcm2niix/build\ncd /tmp/dcm2niix/build\ncmake  -DCMAKE_INSTALL_PREFIX:PATH=/opt/dcm2niix-v1.0.20180328 ..\nmake \nmake install\nrm -rf /tmp/dcm2niix\n\necho '#!/bin/bash' >> /neurodocker/heudiconv.sh && echo 'heudiconv \"$@\"' >> /neurodocker/heudiconv.sh && chmod +x /neurodocker/heudiconv.sh\n\nuseradd --no-user-group --create-home --shell /bin/bash reproin\nsu - reproin\n\necho '{\n\\n  \"pkg_manager\": \"apt\",\n\\n  \"instructions\": [\n\\n    [\n\\n      \"base\",\n\\n      \"neurodebian:stretch\"\n\\n    ],\n\\n    [\n\\n      \"_header\",\n\\n      {\n\\n        \"version\": \"generic\",\n\\n        \"method\": \"custom\"\n\\n      }\n\\n    ],\n\\n    [\n\\n      \"install\",\n\\n      [\n\\n        \"vim\",\n\\n        \"wget\",\n\\n        \"strace\",\n\\n        \"time\",\n\\n        \"ncdu\",\n\\n        \"gnupg\",\n\\n        \"curl\",\n\\n        \"procps\",\n\\n        \"datalad\",\n\\n        \"git-annex-standalone\",\n\\n        \"python-nipype\",\n\\n        \"virtualenv\",\n\\n        \"python-dcmstack\",\n\\n        \"python-configparser\",\n\\n        \"python-funcsigs\",\n\\n        \"python-pytest\",\n\\n        \"dcmtk\",\n\\n        \"python-pip\",\n\\n        \"python-wheel\"\n\\n      ]\n\\n    ],\n\\n    [\n\\n      \"run\",\n\\n      \"curl -sL https://deb.nodesource.com/setup_6.x | bash - \"\n\\n    ],\n\\n    [\n\\n      \"install\",\n\\n      [\n\\n        \"nodejs\",\n\\n        \"npm\"\n\\n      ]\n\\n    ],\n\\n    [\n\\n      \"run\",\n\\n      \"npm install -g bids-validator@0.26.11\"\n\\n    ],\n\\n    [\n\\n      \"run\",\n\\n      \"mkdir /afs /inbox\"\n\\n    ],\n\\n    [\n\\n      \"run\",\n\\n      \"pip install git+https://github.com/nipy/heudiconv.git@d3b7077bd24afcae459531889263dde08ae50466\"\n\\n    ],\n\\n    [\n\\n      \"dcm2niix\",\n\\n      {\n\\n        \"version\": \"v1.0.20180328\",\n\\n        \"method\": \"source\"\n\\n      }\n\\n    ],\n\\n    [\n\\n      \"run\",\n\\n      \"echo '\"'\"'#!/bin/bash'\"'\"' >> /neurodocker/heudiconv.sh && echo '\"'\"'heudiconv \\\"$@\\\"'\"'\"' >> /neurodocker/heudiconv.sh && chmod +x /neurodocker/heudiconv.sh\"\n\\n    ],\n\\n    [\n\\n      \"user\",\n\\n      \"reproin\"\n\\n    ],\n\\n    [\n\\n      \"entrypoint\",\n\\n      \"/neurodocker/heudiconv.sh\"\n\\n    ]\n\\n  ]\n\\n}' > /neurodocker/neurodocker_specs.json\n\n%environment\nexport LANG=\"en_US.UTF-8\"\nexport LC_ALL=\"en_US.UTF-8\"\nexport ND_ENTRYPOINT=\"/neurodocker/startup.sh\"\nexport PATH=\"/opt/dcm2niix-v1.0.20180328/bin:$PATH\"\n\n%runscript\n/neurodocker/heudiconv.sh\n",
            "help": null,
            "labels": {
                "org.label-schema.usage.singularity.deffile.bootstrap": "docker",
                "org.label-schema.usage.singularity.deffile": "Singularity",
                "org.label-schema.schema-version": "1.0",
                "org.label-schema.usage.singularity.deffile.from": "neurodebian:stretch",
                "org.label-schema.build-date": "Tue,_22_May_2018_19:31:20_+0000",
                "org.label-schema.usage.singularity.version": "2.4.1-feature-squashbuild-secbuild-2.4.1.g220f8e0",
                "org.label-schema.build-size": "1175MB"
            },
            "environment": "# Custom environment shell code should follow\n\nexport LANG=\"en_US.UTF-8\"\nexport LC_ALL=\"en_US.UTF-8\"\nexport ND_ENTRYPOINT=\"/neurodocker/startup.sh\"\nexport PATH=\"/opt/dcm2niix-v1.0.20180328/bin:$PATH\"\n\n",
            "runscript": "#!/bin/sh \n\n/neurodocker/heudiconv.sh\n",
            "test": null
        },
        "type": "container"
    }
}
